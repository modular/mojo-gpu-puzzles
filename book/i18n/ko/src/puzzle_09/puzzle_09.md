<!-- i18n-source-commit: 880bd66d68512416dd5cb724c08fa64530113525 -->

# Puzzle 9: GPU 디버깅 워크플로우

> ⚠️ 이 퍼즐은 호환되는 **NVIDIA GPU**에서만 작동합니다. 다른 GPU 벤더 지원을 위한 도구 개발이 진행 중입니다.

## GPU 프로그램이 실패할 때

지금까지 GPU Kernel을 작성하고, 공유 메모리를 다루고, 수천 개의 병렬 스레드를 조율해 왔습니다. 코드가 컴파일됩니다. 올바른 결과를 기대하며 실행하면:

- **크래시**
- **잘못된 결과**
- **무한 정지**

GPU 프로그래밍의 현실이 바로 이것입니다. **수천 개의 스레드에서 동시에 실행되는 병렬 코드를 디버깅**해야 하죠. 이론과 실전이 만나고, 알고리즘 지식과 조사 능력이 교차하는 영역입니다.

## GPU 디버깅이 어려운 이유

단일 스레드의 순차 실행을 따라가는 전통적인 CPU 디버깅과 달리, GPU 디버깅은 다음을 요구합니다:

- **병렬로 사고하기**: 수천 개의 스레드가 동시에 실행되며, 각각 다른 작업을 수행할 수 있음
- **여러 메모리 공간 탐색**: 글로벌 메모리, 공유 메모리, 레지스터, 상수 메모리
- **조율 실패 처리**: 경쟁 상태, barrier 데드락, 메모리 접근 위반
- **최적화된 코드 디버깅**: JIT 컴파일, 변수 최적화, 제한된 심볼 정보
- **전문 도구 사용**: Kernel 검사, 스레드 탐색, 병렬 상태 분석을 위한 CUDA-GDB

**GPU 디버깅을 익히면 병렬 컴퓨팅의 기초를 깊이 이해하게 됩니다**.

## 이 퍼즐에서 배울 내용

이 퍼즐에서는 GPU 코드를 체계적으로 디버깅하는 방법을 배웁니다. GPU 개발자들이 복잡한 병렬 프로그래밍 문제를 해결하기 위해 매일 사용하는 접근법, 도구, 기법을 익히게 됩니다.

### **익히게 될 핵심 기술**

1. **전문적인 디버깅 워크플로우** - 전문가들이 사용하는 체계적인 접근법
2. **도구 숙련도** - 호스트 코드용 LLDB, GPU Kernel용 CUDA-GDB
3. **패턴 인식** - 흔한 GPU 버그 유형과 증상
4. **조사 기법** - 변수가 최적화로 제거되었을 때 근본 원인 찾기
5. **스레드 조율 디버깅** - 고급 GPU 디버깅 기술

### **실제 디버깅 시나리오**

가장 흔한 세 가지 GPU 프로그래밍 실패 상황을 다룹니다:

- **메모리 크래시** - Null 포인터, 잘못된 메모리 접근, segmentation fault
- **로직 버그** - 정상 실행되지만 결과가 틀림, 알고리즘 오류
- **조율 데드락** - barrier 동기화 실패, 무한 정지

각 시나리오는 서로 다른 조사 기법을 가르치고 디버깅 감각을 길러줍니다.

## 디버깅 여정

이 퍼즐은 기본 디버깅 개념부터 고급 병렬 조율 실패까지, 체계적으로 설계된 과정을 안내합니다:

### 📚 **Step 1: [Mojo GPU 디버깅의 핵심](./essentials.md)**

**기초 다지기** - 도구와 워크플로우 배우기

- `pixi`와 CUDA-GDB로 디버깅 환경 설정
- 네 가지 디버깅 접근법 배우기: JIT vs 바이너리, CPU vs GPU
- GPU Kernel 검사를 위한 필수 CUDA-GDB 명령어 학습
- 이전 퍼즐의 익숙한 코드로 실습
- 각 디버깅 접근법을 언제 사용해야 하는지 이해

**목표**: 전문적인 디버깅 워크플로우와 도구 숙련도

### 🧐 **Step 2: [탐정 수사: 첫 번째 사례](./first_case.md)**

**메모리 크래시 조사** - 크래시가 발생하는 GPU 프로그램 디버깅

- `CUDA_ERROR_ILLEGAL_ADDRESS` 크래시 조사
- 체계적인 포인터 검사 기법 학습
- Null 포인터 탐지 및 검증 학습
- 전문적인 크래시 분석 워크플로우 실습
- GPU 메모리 접근 실패 이해

**목표**: GPU 메모리 크래시와 포인터 문제 디버깅 능력

### 🔍 **Step 3: [탐정 수사: 두 번째 사례](./second_case.md)**

**로직 버그 조사** - 결과가 틀린 프로그램 디버깅

- LayoutTensor 기반의 알고리즘 오류 조사
- 최적화로 변수가 사라졌을 때 실행 흐름 분석하기
- 루프 경계와 반복 횟수 분석하기
- 틀린 결과에서 패턴 찾아내기
- 변수를 직접 확인하지 않고 디버깅하기

**목표**: GPU Kernel의 알고리즘 오류와 로직 버그 디버깅 능력

### 🕵️ **Step 4: [탐정 수사: 세 번째 사례](./third_case.md)**

**barrier 데드락 조사** - 영원히 멈추는 프로그램 디버깅

- barrier 동기화 실패 조사
- 병렬 실행 전반의 멀티 스레드 상태 분석 학습
- 조건부 실행 경로 추적 학습
- 스레드 조율 디버깅 실습
- 가장 어려운 GPU 디버깅 시나리오 이해

**목표**: 고급 스레드 조율 디버깅 - GPU 디버깅 기술의 정점

## 탐정의 마인드셋

GPU 디버깅은 일반적인 프로그래밍과 다른 사고방식을 요구합니다. 여러분은 범죄 현장을 조사하는 **탐정**이 됩니다:

- **단서가 부족함** - 변수는 최적화로 사라지고, 심볼명은 알아보기 어려움
- **용의자가 넘침** - 수천 개의 스레드, 누구든 범인일 수 있음
- **타임라인이 복잡함** - 병렬 실행, 경쟁 상태, 타이밍 의존성
- **전문 도구가 필요함** - CUDA-GDB, 스레드 탐색, GPU 메모리 검사

하지만 훌륭한 탐정이 그렇듯, 여러분도 다음을 배우게 됩니다:

- **단서를 체계적으로 추적** - 에러 메시지, 크래시 패턴, 스레드 상태
- **가설 수립** - 이 동작을 일으킬 수 있는 원인은 무엇일까?
- **이론 검증** - 디버깅 명령어로 아이디어를 확인하거나 반증
- **근본 원인 추적** - 증상에서 실제 문제의 원인까지

## 시작하기 전에

**알아야 할 것**:

- Puzzle 1-8에서 다룬 GPU 프로그래밍 개념 (스레드 인덱싱, 메모리 관리, barrier)
- 기본적인 명령줄 사용에 익숙함 (터미널 기반 디버깅 도구를 사용합니다)
- 인내심과 체계적 사고 (GPU 디버깅은 꼼꼼한 조사가 필요합니다)

**목표**:

- GPU 개발팀에서 사용하는 **전문 디버깅 기술**
- 스레드 수준의 실행을 관찰하며 얻는 **병렬 컴퓨팅에 대한 깊은 이해**
- 가장 까다로운 GPU 프로그래밍 상황에서도 **문제를 해결할 수 있다는 자신감**
- GPU 프로그래밍 커리어 전반에 도움이 될 **도구 숙련도**

## 시작할 준비가 되셨나요?

GPU 디버깅은 GPU 프로그램을 *작성하는* 것에서 *깊이 이해하는* 것으로 나아가는 과정입니다. 전문 GPU 개발자라면 누구나 병렬 코드를 디버깅하고, 수천 개의 스레드로 동시에 사고하는 법을 익히고, 복잡한 조율 실패를 끈기 있게 조사하며 수많은 시간을 보냈습니다.

지금이 바로 그 전문가 그룹에 합류할 기회입니다.

**디버깅 여정 시작하기**: [Mojo GPU 디버깅의 핵심](./essentials.md)

---

*"디버깅은 코드 작성보다 두 배는 어렵다. 따라서 최대한 영리하게 코드를 작성했다면, 정의상 그것을 디버깅할 만큼 똑똑하지 않다는 뜻이다."* - Brian Kernighan

*GPU 프로그래밍에서는 이 말이 수천 배로 와닿습니다. 동시에 디버깅해야 할 병렬 스레드 수만큼요.*
